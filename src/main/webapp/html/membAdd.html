<!-- 작성: 2017.03.13 김재녕 -->
<!-- 내용: SideBar - MembAdd -->
<!-- 모임원 초대 -->

<link rel="stylesheet" href="../css/meetmain/daummap.css">
<link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.css">

<style>
#membPlusPopup {
  border-radius: 10px;
  border-style: solid;
  border-width: 1px;
  border-color: grey;
  height: 530px;
  width: 380px;
  margin-left: 20px;
  margin-top: 20px;
  margin-bottom: 20px;
  margin-right: 1px;
  text-align: center;
}

#membPlusPopup .memb-add {
  width: 100%;
  height: 80%;
  overflow: auto;
  text-align: left;
}

#membPlusPopup .mail-box-cls {
  width: 99%;
  margin: 0 auto;
}

#membPlusPopup .add-email-box {
  float: left;
  height: 40px;
  width: 70%;
  margin-top: 3%;
  margin-left: 5%;
  margin-right: 10%;
  font-color: #3ACBA3;
  border-radius: 3px;
  display: inline-block;
}

#membPlusPopup #memb-close-btn {
  width: 35px;
  height: 35px;
  margin-top: 5px;
  margin-right: 2%;
  float: right;
  border-radius: 5px;
  border-style: solid;
  border-width: 2px;
  border-color: grey;
}

#membPlusPopup #memb-plus-btn {
  float: left;
  margin-top: 5px;
  margin-left: 5%;
  height: 35px;
  line-height: 100%;
  border-radius: 5px;
  border-style: solid;
  border-width: 2px;
  border-color: grey;
  background-color: #3ACBA3;
  color: white;
}

#membPlusPopup #invite-btn {
  height: 35px;
  margin-top: 5%;
  border-radius: 5px;
  border-style: solid;
  border-width: 2px;
  border-color: grey;
  background-color: #3ACBA3;
  color: white;
}

#membPlusPopup #memb-plus-btn:hover {
  color: black;
  cursor: pointer;
}

#membPlusPopup #minus-btn {
  display: inline-block;
  margin: 3% auto;
  float: left;
  /*height: 30px;*/
  /*line-height: 100%;*/
  /*border-radius: 10px;*/
  /*border-style: solid;*/
  /*border-width: 2px;*/
  /*border-color: grey;*/
  /*background-color: #3ACBA3;*/
  /*color: white;*/
}

/*#membPlusPopup #minus-btn:hover {*/
  /*color: black;*/
/*}*/

#mail-box-div {
  height: 15%;
}

#membPlusPopup #memb-plus-btn {
  display: inline-block;
}

#membPlusPopup #memb-close-btn:hover {
  cursor: pointer;
}

</style>

<div id="membPlusPopup">
  <div id="membPlusHead">
		<button type="button" id="memb-plus-btn">모임원초대</button>
	  <button type="button" id="memb-close-btn">X</button>
  </div>

  <!-- 멤버 초대 -->
  <div class="memb-add">
    <div id="mail-box-div" class="mail-box-cls">
      <input id="memb-email" type="email" class="add-email-box"
        placeholder="email을 입력해주세요">
  		
    </div>
    <!-- 멤버 추가시 input Box 삽입할 div -->
    <div id="new-field"></div>
  </div>
  <div class="Ok-area">
    <button type="button" id="invite-btn">초대</button>
  </div>
</div>

<script src='../node_modules/jquery/dist/jquery.js'></script>

<script>

// 멤버 초대 박스 포커스
var inputEmail;
$('body').on('focus', '.add-email-box', function() {
  inputEmail = $(this);
})

// 멤버 초대 함수 호출
$('body').on('click', '#memb-plus-btn', function(e) {
	e.preventDefault();
	add_memb();
});

// 멤버 초대 박스 이메일 입력시
$('body').on('keyup', '.mail-box-cls', function(e) {
	 console.log(inputEmail.val());	 
/* 	 $.post(serverRoot + '/html/membAdd/membAdd.json', inputEmail, function(ajaxResult) {
		 if (ajaxResult.status != "success") {
        console.log(ajaxResult.data);
        return;
	   }
		 console.log("성공");
	 }); */
});

// 멤버 초대 상자 추가
function add_memb() {
   $('<div>').attr('class', 'mail-box-cls').html(
      '<input type="email"' + 'class="add-email-box"'
          + 'placeholder="email을 입력해주세요">'
          + '<button type="button" id="minus-btn"'
          + 'class="btn btn-warning"'
          + 'onClick="remove_memb(this)">-</button>').appendTo(
      '#new-field');
}

// 멤버 초대 상자 삭제
function remove_memb(obj) {
  document.getElementById('new-field').removeChild(obj.parentNode);
}

// 모임구성원 이메일 변수에 담기
function memb_add_email()  {
  var addmemb = document.getElementsByClassName('add-email-box');
  var membdata = new Array();
  for (var i = 0; i < addmemb.length; i++) {
    if (addmemb[i] != null) {
      membdata.push(addmemb[i]);
    }
  }
  return membdata;
}
</script>


